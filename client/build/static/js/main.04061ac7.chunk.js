(this["webpackJsonpin-retrograde"]=this["webpackJsonpin-retrograde"]||[]).push([[0],{78:function(e,t,a){},79:function(e,t,a){},86:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n,r,s=a(2),c=a.n(s),o=a(40),i=a.n(o),l=(a(78),a(12)),d=a(71),m=a(105),b=a(106),u=a(104),j=a(69),x=(a.p,a(79),a(23)),p=a(9),g=a(34),h=a.n(g),f=a(41),O=a(15),w=a(36),v=a(70),y=a(108),N=a(52),k=a(107),B=Object(k.a)(n||(n=Object(N.a)(["\n  mutation addUser($name: String!, $email: String!, $dob: String!, $timeOfBirth: String!, $timezone: String!, $placeOfBirth: String!, $password: String!) {\n    addUser(name: $name, email: $email, password: $password, dob: $dob, timeOfBirth: $timeOfBirth, timezone: $timezone, placeOfBirth: $placeOfBirth) {\n      token\n      user {\n        _id\n        name\n        email\n        dob,\n        timeOfBirth,\n        placeOfBirth\n      }\n    }\n  }\n"]))),S=Object(k.a)(r||(r=Object(N.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        name\n        email\n        dob\n        timeOfBirth\n        placeOfBirth\n      }\n    }\n  }\n"]))),$=a(62),T=a(63),z=a(64),C=new(function(){function e(){Object($.a)(this,e)}return Object(T.a)(e,[{key:"getUser",value:function(){return Object(z.a)(this.getToken())}},{key:"loggedIn",value:function(){return!!this.getToken()}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e)}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),I=(a(86),a(3)),A=function(e){var t,a=Object(s.useState)({email:"",password:""}),n=Object(w.a)(a,2),r=n[0],c=n[1],o=Object(y.a)(S),i=Object(w.a)(o,2),d=i[0],m=i[1],b=m.error,u=(m.data,Object(p.g)()),j=function(e){var t=e.target,a=t.name,n=t.value;c(Object(l.a)(Object(l.a)({},r),{},Object(O.a)({},a,n)))},g=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(r),e.prev=2,e.next=5,d({variables:Object(l.a)({},r)});case 5:a=e.sent,n=a.data,C.login(n.login.token),u.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:c({email:"",password:""});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:"poppins",children:[Object(I.jsx)("div",{className:"relative min-h-screen flex ",children:Object(I.jsxs)("div",{className:"flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0 bg-white",children:[Object(I.jsxs)("div",{className:"sm:w-1/2 xl:w-3/5 h-full hidden md:flex flex-auto items-center justify-center p-10 overflow-hidden bg-purple-900 text-white bg-no-repeat bg-cover relative",style:{backgroundImage:"url(https://c4.wallpaperflare.com/wallpaper/769/924/837/best-of-space-high-resolution-wallpaper-preview.jpg)"},children:[Object(I.jsx)("div",{className:"absolute bg-gradient-to-b from-indigo-600 to-blue-500 opacity-75 inset-0 z-0"}),Object(I.jsxs)("div",{className:"w-full  max-w-md z-10",children:[Object(I.jsx)("div",{className:"sm:text-4xl xl:text-5xl font-bold leading-tight mb-6 pMono",children:"in retrograde"}),Object(I.jsx)("div",{className:"sm:text-sm xl:text-md text-gray-200 font-normal",children:"A fresh new perspective on your daily horoscope, offering you an in-depth, customized reading unique to you, allowing you to make the most of each day."})]}),Object(I.jsxs)("ul",{className:"circles",children:[Object(I.jsx)("li",{}),Object(I.jsx)("li",{}),Object(I.jsx)("li",{}),Object(I.jsx)("li",{}),Object(I.jsx)("li",{}),Object(I.jsx)("li",{}),Object(I.jsx)("li",{}),Object(I.jsx)("li",{}),Object(I.jsx)("li",{}),Object(I.jsx)("li",{})]})]}),Object(I.jsx)("div",{className:"md:flex md:items-center md:justify-center w-full sm:w-auto md:h-full w-2/5 xl:w-2/5 p-8  md:p-10 lg:p-14 sm:rounded-lg md:rounded-none bg-white",children:Object(I.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(I.jsxs)("div",{className:"text-center",children:[Object(I.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Welcome Back!"}),Object(I.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Please sign in to your account"})]}),Object(I.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:g,children:[Object(I.jsx)("input",{type:"hidden",name:"remember",value:"true"}),Object(I.jsxs)("div",{className:"relative",children:[Object(I.jsx)("label",{className:"ml-3 text-sm font-bold text-gray-700 tracking-wide",children:"Email"}),Object(I.jsx)("input",(t={className:" w-full text-base px-4 py-2 border-b border-gray-300 focus:outline-none rounded-2xl focus:border-indigo-500",type:"",placeholder:"name@email.com",name:"email"},Object(O.a)(t,"type","email"),Object(O.a)(t,"value",r.email),Object(O.a)(t,"onChange",j),t))]}),Object(I.jsxs)("div",{className:"mt-8 content-center",children:[Object(I.jsx)("label",{className:"ml-3 text-sm font-bold text-gray-700 tracking-wide",children:"Password"}),Object(I.jsx)("input",{className:"w-full content-center text-base px-4 py-2 border-b rounded-2xl border-gray-300 focus:outline-none focus:border-indigo-500",name:"password",type:"password",placeholder:"Enter your password",value:r.password,onChange:j})]}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{type:"submit",className:"w-full flex justify-center bg-gradient-to-r from-indigo-500 to-blue-600  hover:bg-gradient-to-l hover:from-blue-500 hover:to-indigo-600 text-gray-100 p-4  rounded-full tracking-wide font-semibold  shadow-lg cursor-pointer transition ease-in duration-500",children:"Sign in"})}),Object(I.jsxs)("p",{className:"flex flex-col items-center justify-center mt-10 text-center text-md text-gray-500",children:[Object(I.jsx)("span",{children:"Don't have an account?"}),Object(I.jsx)(x.b,{to:"/signup",className:"text-indigo-400 hover:text-blue-500 no-underline hover:underline cursor-pointer transition ease-in duration-300",children:"Sign up"})]})]})]})})]})}),")",b&&Object(I.jsx)("div",{children:b.message})]})},D=(Object(v.a)((function(e){return{isAuthUser:e.isAuthUser}}))((function(e){var t=e.isAuthUser,a=e.type;return"guest"===a&&t?Object(I.jsx)(p.a,{to:"/home"}):"private"!==a||t?Object(I.jsx)(p.b,Object(l.a)({},e)):Object(I.jsx)(p.a,{to:"/"})})),a(68)),F=function(){var e,t=Object(s.useState)({name:"",email:"",dateAndTime:"",timezone:"",placeOfBirth:"",password:""}),a=Object(w.a)(t,2),n=a[0],r=a[1],c=Object(y.a)(B),o=Object(w.a)(c,2),i=o[0],d=o[1],m=(d.error,d.data,function(e){var t=e.target,a=t.name,s=t.value;r(Object(l.a)(Object(l.a)({},n),{},Object(O.a)({},a,s)))}),b=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,r,s,c,o,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n),a=Object(l.a)({},n),r=D.DateTime.fromISO(a.dateAndTime),s=r.toFormat("dd-LL-yyyy"),c=r.toFormat("HH:mm"),console.log(Object(l.a)(Object(l.a)({},a),{},{dob:s,timeOfBirth:c})),e.prev=7,e.next=10,i({variables:Object(l.a)(Object(l.a)({},a),{},{dob:s,timeOfBirth:c})});case 10:o=e.sent,d=o.data,C.login(d.addUser.token),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)("div",{className:"bg-white poppins",children:Object(I.jsxs)("div",{className:"flex min-h-screen bg-white",children:[Object(I.jsx)("div",{className:"w-1/2 bg-cover md:block hidden",style:{backgroundImage:"url(https://c4.wallpaperflare.com/wallpaper/769/924/837/best-of-space-high-resolution-wallpaper-preview.jpg)"}}),Object(I.jsxs)("div",{className:"md:w-1/2 max-w-lg mx-auto my-24 px-4 py-5 shadow-none",children:[Object(I.jsxs)("div",{className:"text-left p-0 font-sans",children:[Object(I.jsx)("h1",{className:" text-gray-800 text-3xl font-medium",children:"Create an account for free"}),Object(I.jsx)("h3",{className:"p-1 text-gray-700",children:"Free forever. No payment needed."})]}),Object(I.jsxs)("form",{onSubmit:b,className:"p-0",children:[Object(I.jsxs)("div",{className:"mt-5",children:[Object(I.jsx)("label",{className:"ml-3 text-sm font-bold text-gray-700 tracking-wide",for:"name",children:"Name"}),Object(I.jsx)("input",{className:"block w-full p-2 border rounded border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-transparent",placeholder:"Name",id:"name",name:"name",type:"text",value:n.name,onChange:m})]}),Object(I.jsxs)("div",{className:"mt-5",children:[Object(I.jsx)("label",{className:"ml-3 text-sm font-bold text-gray-700 tracking-wide",for:"email",children:"Email"}),Object(I.jsx)("input",{className:"block w-full p-2 border rounded border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-transparent ",placeholder:"Email",id:"email",name:"email",type:"email",value:n.email,onChange:m})]}),Object(I.jsxs)("div",{className:"mt-5",children:[Object(I.jsx)("label",{className:"ml-3 text-sm font-bold text-gray-700 tracking-wide",for:"dateAndTime",children:"Date & Time of Birth"}),Object(I.jsx)("input",(e={id:"date-and-time",className:"block w-full p-2 border rounded border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-transparent",placeholder:"Date and Time of Birth"},Object(O.a)(e,"id","dateAndTime"),Object(O.a)(e,"name","dateAndTime"),Object(O.a)(e,"type","datetime-local"),Object(O.a)(e,"value",n.dateAndTime),Object(O.a)(e,"onChange",m),e))]}),Object(I.jsxs)("div",{className:"mt-5",children:[Object(I.jsx)("label",{className:"ml-3 text-sm font-bold text-gray-700 tracking-wide",for:"timezone",children:"Timezone"}),Object(I.jsx)("input",{className:"block w-full p-2 border rounded border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-transparent",placeholder:"Timezone (eg -5, +4 etc)",id:"timezone",name:"timezone",type:"number",value:n.timezone,onChange:m})]}),Object(I.jsxs)("div",{className:"mt-5",children:[Object(I.jsx)("label",{className:"ml-3 text-sm font-bold text-gray-700 tracking-wide",for:"placeOfBirth",children:"Name"}),Object(I.jsx)("input",{className:"block w-full p-2 border rounded border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-transparent ",placeholder:"Place of Birth",id:"placeOfBirth",name:"placeOfBirth",type:"text",value:n.placeOfBirth,onChange:m})]}),Object(I.jsxs)("div",{className:"mt-5",children:[Object(I.jsx)("label",{className:"ml-3 text-sm font-bold text-gray-700 tracking-wide",for:"password",children:"Password"}),Object(I.jsx)("input",{className:"block w-full p-2 border rounded border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-transparent",placeholder:"Password",id:"password",name:"password",type:"password",value:n.password,onChange:m})]}),Object(I.jsx)("div",{className:"mt-10",children:Object(I.jsx)("button",{className:"w-full flex justify-center bg-gradient-to-r from-indigo-500 to-blue-600  hover:bg-gradient-to-l hover:from-blue-500 hover:to-indigo-600 text-gray-100 p-4  rounded-full tracking-wide font-semibold  shadow-lg cursor-pointer transition ease-in duration-500",type:"submit",children:"Sign up"})})]}),Object(I.jsx)(x.b,{to:"/","data-test":"Link",children:Object(I.jsx)("span",{className:"block  p-5 text-center text-gray-800  text-xs ",children:"Already have an account?"})})]})]})})},P=(a(92),a(93),a.p+"static/media/logo.2573c97e.svg");function U(){return Object(I.jsx)("div",{className:"poppins ",children:Object(I.jsxs)("div",{className:"bg-indigo-900 bg-opacity-50 rounded-2xl flex flex-col items-stretch w-auto my-auto mr-1 lg:m-0 text-xl text-center transform pt-1 md:flex-row md:translate-y-0 md:space-x-5 md:items-center md:justify-end md:pr-3",children:[Object(I.jsx)(x.b,{to:"/",children:Object(I.jsx)("button",{className:"p-1 text-white text-right text-xs lg:text-base",children:"weekly horoscope"})},"weekly horoscope"),Object(I.jsx)(x.b,{to:"/",children:Object(I.jsx)("button",{className:"p-1 text-white text-right text-xs lg:text-base",onClick:C.logout,children:"logout"})},"Logout")]})})}function E(){return Object(I.jsxs)("div",{className:"flex justify-between w-screen h-16 md:h-28 text-white md:flex-nowrap mt-4",style:{backgroundImage:"url(https://c4.wallpaperflare.com/wallpaper/769/924/837/best-of-space-high-resolution-wallpaper-preview.jpg)"},children:[Object(I.jsxs)("div",{className:"z-30 flex items-center h-full pl-3 space-x-3",children:[Object(I.jsx)("img",{className:"h-16 w-16 md:h-28 md:w-28",src:P,alt:"Hand holding moon and stars."}),Object(I.jsx)("h1",{className:"pMono text-white font-bold inline-block text-left ml-0 lg:text-4xl",children:"in retrograde"})]}),Object(I.jsx)(U,{})]})}function L(){var e=Object(p.g)();return Object(s.useEffect)((function(){C.loggedIn()||e.push("/login")}),[e]),Object(I.jsx)("div",{className:"bg-dark-img",children:Object(I.jsx)("div",{className:"bg-light-img",children:Object(I.jsx)("div",{children:Object(I.jsx)(E,{})})})})}var _=Object(d.a)({uri:"/graphql"}),H=Object(j.a)((function(e,t){var a=t.headers,n=localStorage.getItem("id_token");return{headers:Object(l.a)(Object(l.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),M=new m.a({link:H.concat(_),cache:new b.a});var q=function(){return Object(I.jsx)(u.a,{client:M,children:Object(I.jsx)(x.a,{children:Object(I.jsxs)(p.d,{children:[Object(I.jsx)(p.b,{exact:!0,path:"/login",component:A}),Object(I.jsx)(p.b,{exact:!0,path:"/signup",component:F}),Object(I.jsx)(p.b,{path:"/",component:L})]})})})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,110)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};i.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(q,{})}),document.getElementById("root")),J()}},[[94,1,2]]]);
//# sourceMappingURL=main.04061ac7.chunk.js.map